---
SPDX-License-Identifier: MIT
path: "/tutorials/install-and-configure-x2goserver"
slug: "install-and-configure-x2goserver"
date: "2021-05-27"
title: "Install and Configure Ubuntu Remote Desktop with XFCE using X2Go"
short_description: "This tutorial describes how to install Ubuntu Remote Desktop with X2Go-Server on Hetzner Cloud with XFCE"
tags: ["X2Go", "Ubuntu", "XFCE", "Debian", "LXDE"]
author: "Oliver Müller"
author_link: "https://github.com/omuehler"
author_img: "https://avatars.githubusercontent.com/u/77874042"
author_description: ""
language: "en"
available_languages: ["en", "de", "ru"]
header_img: "header-7"
cta: "cloud"
---

## Introduction

This tutorial explains how to create a remote desktop on a Hetzner Cloud Server with:
- Ubuntu 20.04 for a full desktop using XFCE and
- Debian 11 for an ultra-light desktop using LXDE
A graphical interface/desktop will be installed. In addition, a new user will be created who can access his desktop encrypted via [X2Go](https://wiki.x2go.org/doku.php).

X2Go is a free terminal server solution for connecting to various desktop environment like XFCE, LXDE, Mate etc.

**Prerequisites**

 - a new server, created in the Hetzner [Cloud Console](https://console.hetzner.cloud/) using the basic Ubuntu 20.04 image
 - IP address
 - root access to the server using an SSH key [See our tutorial for reference](https://community.hetzner.com/tutorials/add-ssh-key-to-your-hetzner-cloud)

## Step 1 - Activate a Firewall

Open your newly created server in the corresponding project in the Hetzner [Cloud Console](https://console.hetzner.cloud/).

Create a new Firewall. The default settings in the Firewall are ok. This will open ssh port 22 to your server and close the other, not needed ports.

![Basic firewall settings](images/firewall.png)

## Step 2 - Configure your server

### Step 2.1 - Update your System and install the required packages

Update and install packages:

```
apt update && apt upgrade -y
```

During the upgrade, you might get asked which SSH config to use. If you want to use the default settings or you own rules, select the original config or it will be overwritten by the maintainer config of Ubuntu. If you don't know what that means, just press enter to keep the default recommendation.

Installation of the required packages:

- **For Ubuntu:**
  
  Installing the packages for xubuntu and X2Go:
  
  ```
  apt install xubuntu-desktop x2goserver x2goserver-xsession -y
  ```

  Tip: you might need to execute this command twice if you get an error regarding the repository. This worked on 2/2 attempts.
  You will likely see a window asking you to choose between `lightdm` and `gdm3`. Select `lightdm` to save on resources.

- **For Debian:**
  
  ```
  apt install lxde-core lxrandr x2goserver x2goserver-xsession firefox-esr xfce4-terminal pulseaudio -y
  ```

Explanation:

- `xubuntu-desktop` > Full desktop environment
- `x2goserver` > Server for our X2Go session
- `x2goserver-xsession` > Tool to allow X2Go to interact with our xServer
- `lxde-core` > ultra-light desktop
- `lxrandr` > absolutely required, since this allows setting the resolution for the session. Otherwise only 800x600 works
- `firefox-esr` > required, since lxde-core does not include a browser
- `xfce4-terminal` > light and useful terminal, light dependencies
- `pulseaudio` > required, if sound is intended to work. Remove this from the line if not required (saves a lot of space)

You can execute both commands from above in "one" command:

- **Ubuntu:**
  
  ```
  apt update && apt upgrade -y && apt install xubuntu-desktop x2goserver x2goserver-xsession -y
  ```

  - 2x user input required (Choosing default SSH config and `lightdm` as display manager)
  - Error with current repository, needed to be executed twice (2 attempts with fresh install)
  - Space required: 5553MB
  - RAM required with 1 user @ Desktop @ 1080p: 540MB

- **Debian:**
  
  ```
  apt update && apt upgrade -y && apt install lxde-core lxrandr x2goserver x2goserver-xsession firefox-esr xfce4-terminal pulseaudio -y
  ```

  - Minimalist installation, further tools are likely required (archive manager, office software, mail software...)
  - Space required: 2357MB
  - RAM required with 1 user @ Desktop @ 1080p: 172MB

### Step 2.2 - Create the new X2Go user

For our connection to our remote desktop, we will not use root. We create a new user. In this example, the user will be named _holu_

```
adduser holu
```

```Shell
Adding user `holu' ...
Adding new group `holu' (1000) ...
Adding new user `holu' (1000) with group `holu' ...
Creating home directory `/home/holu' ...
Copying files from `/etc/skel' ...
New password: 
Retype new password: 
passwd: password updated successfully
Changing the user information for holu
Enter the new value, or press ENTER for the default
	Full Name []: Ho Lu       
	Room Number []:  
	Work Phone []: 
	Home Phone []: 
	Other []: 
Is the information correct? [Y/n] Y
```

### Step 2.3 - Reboot your server

```
reboot
```

## Step 3 - Configure your client

To connect to the desktop, we need to install the [X2Go Client](https://wiki.x2go.org/doku.php/doc:installation:x2goclient) on the local Workstation.

Please use the instructions on the project website to install the client on your machine.

You can install it with apt using `apt install x2goclient`.

If the installation is finished, we can set up the client software.

Create a new session in the Client and insert the parameters for your server.

 - **Login:** holu
 - **Host:** 157.90.XXX.XX (replace with your server IP!)
 - **Session type:**
   - XFCE for Ubuntu
   - LXDE for Debian

![X2Go Client Settings](images/x2go-client.png)

Now you can save your session preferences and connect to your server.

![You are connected to your server](images/connection.png)

### Step 3.1 - Adjust your settings for better performance and usability:

You can further tweak your X2Go settings:

Connection:

- Lower the slider from ADSL to ISDN if you have issues with your connection or just want to use lower bitrate
- Compression method can be lowered to 256-jpeg to limit the color range. For typical use this is not very noticeable since the color palette gets adjusted to the elements visible. It only limits a lot, if you want to see all possible colors at the same time.

Input/output:

- Custom: Set your own custom resolution for windowed usage
- Maximum resolution: Use a borderless fullscreen
- Fullscreen: Self explanatory
- DPI: can be adjusted to your need, 94 is good for 1080p 

Media:

- Adjust your settings regarding audio and printing, default typically works out of the box

Shared folders:

- You can share folders between your local and remote station

Speed that can be expected:

If you refresh every pixel of your screen, be prepared for a slideshow regardless of your connection. vServers have no dedicated GPU for any hardware acceleration. You will get at most 1FPS in YouTube at 360p using 256-jpeg compression.

## Conclusion

If you have followed all the steps in this tutorial, you can connect to the server via an SSH encrypted connection and use a remote desktop with an XFCE interface.

##### License: MIT

<!--

Contributor's Certificate of Origin

By making a contribution to this project, I certify that:

(a) The contribution was created in whole or in part by me and I have
    the right to submit it under the license indicated in the file; or

(b) The contribution is based upon previous work that, to the best of my
    knowledge, is covered under an appropriate license and I have the
    right under that license to submit that work with modifications,
    whether created in whole or in part by me, under the same license
    (unless I am permitted to submit under a different license), as
    indicated in the file; or

(c) The contribution was provided directly to me by some other person
    who certified (a), (b) or (c) and I have not modified it.

(d) I understand and agree that this project and the contribution are
    public and that a record of the contribution (including all personal
    information I submit with it, including my sign-off) is maintained
    indefinitely and may be redistributed consistent with this project
    or the license(s) involved.

Signed-off-by: Oliver Müller, oliver.mueller@hetzner.com

-->
